[gd_scene load_steps=8 format=2]

[ext_resource path="res://test/test.gd" type="Script" id=1]
[ext_resource path="res://addons/visual_fsm/visual_fsm.gd" type="Script" id=2]

[sub_resource type="Animation" id=5]

[sub_resource type="AnimationNodeAnimation" id=6]
animation = "test"

[sub_resource type="AnimationNodeStateMachine" id=7]
states/test/node = SubResource( 6 )
states/test/position = Vector2( 287, 128 )

[sub_resource type="AnimationNodeStateMachinePlayback" id=8]

[sub_resource type="GDScript" id=9]
script/source = "extends GraphEdit


# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"


# Called when the node enters the scene tree for the first time.
func _ready():
	add_valid_connection_type(0, 0)
	add_valid_right_disconnect_type(0)


func _on_GraphEdit_connection_request(from, from_slot, to, to_slot):
	if from != to:
		connect_node(from, from_slot, to, to_slot)


func _on_GraphEdit_connection_to_empty(from, from_slot, release_position):
#	disconnect_node()
	pass


func _on_GraphEdit_disconnection_request(from, from_slot, to, to_slot):
	if from != to:
		disconnect_node(from, from_slot, to, to_slot)
"

[node name="Spatial" type="Spatial"]
script = ExtResource( 1 )

[node name="VisualFSM" type="Node" parent="."]
script = ExtResource( 2 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/test = SubResource( 5 )

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource( 7 )
anim_player = NodePath("../AnimationPlayer")
parameters/playback = SubResource( 8 )

[node name="GraphEdit" type="GraphEdit" parent="."]
margin_left = 206.0
margin_top = 90.0
margin_right = 708.0
margin_bottom = 460.0
scroll_offset = Vector2( -40, -40 )
script = SubResource( 9 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="GraphNode" type="GraphNode" parent="GraphEdit"]
margin_left = 40.0
margin_top = 40.0
margin_right = 118.0
margin_bottom = 84.0
mouse_filter = 1
slot/0/left_enabled = true
slot/0/left_type = 0
slot/0/left_color = Color( 1, 1, 1, 1 )
slot/0/right_enabled = true
slot/0/right_type = 0
slot/0/right_color = Color( 1, 1, 1, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="GraphEdit/GraphNode"]
margin_left = 16.0
margin_top = 24.0
margin_right = 62.0
margin_bottom = 38.0
text = "Hello!!!"

[node name="GraphNode2" type="GraphNode" parent="GraphEdit"]
margin_left = 160.0
margin_top = 220.0
margin_right = 238.0
margin_bottom = 264.0
mouse_filter = 1
offset = Vector2( 120, 180 )
slot/0/left_enabled = true
slot/0/left_type = 0
slot/0/left_color = Color( 1, 1, 1, 1 )
slot/0/right_enabled = true
slot/0/right_type = 0
slot/0/right_color = Color( 1, 1, 1, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="GraphEdit/GraphNode2"]
margin_left = 16.0
margin_top = 24.0
margin_right = 62.0
margin_bottom = 38.0
text = "Hello!!!"

[node name="GraphNode3" type="GraphNode" parent="GraphEdit"]
margin_left = 300.0
margin_top = 220.0
margin_right = 378.0
margin_bottom = 264.0
mouse_filter = 1
offset = Vector2( 260, 180 )
slot/0/left_enabled = true
slot/0/left_type = 0
slot/0/left_color = Color( 1, 1, 1, 1 )
slot/0/right_enabled = true
slot/0/right_type = 0
slot/0/right_color = Color( 1, 1, 1, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="GraphEdit/GraphNode3"]
margin_left = 16.0
margin_top = 24.0
margin_right = 62.0
margin_bottom = 38.0
text = "Hello!!!"
[connection signal="connection_request" from="GraphEdit" to="GraphEdit" method="_on_GraphEdit_connection_request"]
[connection signal="connection_to_empty" from="GraphEdit" to="GraphEdit" method="_on_GraphEdit_connection_to_empty"]
[connection signal="disconnection_request" from="GraphEdit" to="GraphEdit" method="_on_GraphEdit_disconnection_request"]
